<template name="Home">
  <style>
    #record {
      height: 80px;
      width: 80px;
      background-color: red;
      display: block;
      margin-left: auto;
      margin-right: auto;
      border-radius: 40px;
      cursor: pointer;
    }
    .random {
      width: 20px;
      height: 20px;
      background-color: #F2EEB3;
      border-radius: 10px;
      position: absolute;
      left: 50%;
      top: 50%;
    }
    .animate1 {animation: rotate1 15s infinite linear;}
    .animate2 {animation: rotate2 22s infinite linear;}
    .nav {
      position: absolute;
      right: 10px;
      top: 10px;
      color: white;
    }
    button {
      color: white !important;
    }
    a:hover {
      text-decoration: none;
    }
    /* animation taken from http://lea.verou.me/2012/02/moving-an-element-along-a-circle/ */
    @keyframes rotate1 {
      from {
        transform: rotate(0deg) translate(-150px) rotate(0deg);
      }
      to {
        transform: rotate(360deg) translate(-150px) rotate(-360deg);
      }
    }
    @-webkit-keyframes rotate {
      from {
        -webkit-transform: rotate(0deg) translate(-150px) rotate(0deg);
      }
      to {
        -webkit-transform: rotate(360deg) translate(-150px) rotate(-360deg);
      }
    }
    @keyframes rotate2 {
      from {
        transform: rotate(360deg) translate(-250px) rotate(-360deg);
      }
      to {
        transform: rotate(0deg) translate(-250px) rotate(0deg);
      }
    }
  </style>
  
  <div class="container-fluid" style="display:none">
    <div class="text-right nav" style="font-size:25px;">
      <button id="historyBtn" class="btn btn-default btn-flat" style="margin-right:10px;" onclick="goList()">history</button>
      <button id="aboutBtn" class="btn btn-default btn-flat" onclick="goAbout()">about</button>
    </div>
    {{#if currentUser}}
       <div>I am Logged In!</div>
       <span>My name is: {{> username}}</span>
       {{> logout}}
    {{/if}}
    <div class="vertical-center text-center" style="width:100%;">
      <a id="record" class="shadow-z-2" style="display:none;">
        <i id="plus" class="ion-android-add" style="color:white; font-size:58px;">
        </i>
      </a>
    </div>
    <!-- How do I animate multiple divs easily? -->
    <div class="random animate1"></div>
    <div class="random animate2"></div>
    <div style="position:absolute; bottom:0; left:30px; font-size:112px; color:rgba(255, 255, 255, 0.5);">
      Subliminal
    </div>
  </div>

  <script>
    function goList() {
      $('#historyBtn').fadeOut("slow", function() {
        $('#aboutBtn').fadeOut("fast", function() {
          $('.container-fluid').fadeOut(function() {
            Router.go('/list');
          })
        })
      })
    }
    function goAbout() {
      $('#historyBtn').fadeOut("slow");
      $('#aboutBtn').fadeOut("slow", function(){
        $('.container-fluid').fadeOut(function() {
          Router.go('/about');
        });
      });
    }
    $(document).ready(function() {
      $('.container-fluid').fadeIn("slow", function() {
        $('#record').fadeIn("slow");
      });
      $('#record').hover(function() {
        $(this).addClass("shadow-z-5");
        $(this).removeClass("shadow-z-2");
      }, function() {
        $(this).addClass("shadow-z-2");
        $(this).removeClass("shadow-z-5");
      })
      $('#record').mousedown(function() {
        $(this).removeClass("shadow-z-5");
        $(this).mouseup(function() {
          $("#plus").removeClass("ion-android-add");
          $(this).fadeOut("slow", function() {
            $(".container-fluid").fadeOut(function() {
              Router.go('/input');
            })
          })
        })
      })
    })
  </script>
</template>

<template name="logout">
  <a style="color:yellow" class="logout">Logout</a>
</template>

<template name="username">
  <p>{{username}}</p>
</template>